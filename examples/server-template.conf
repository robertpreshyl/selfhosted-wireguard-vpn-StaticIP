[Interface]
# WireGuard VPN Server Configuration Template
# Replace all placeholder values with your actual configuration

Address = 10.10.10.1/24
ListenPort = 51820
PrivateKey = YOUR_SERVER_PRIVATE_KEY_HERE

# PostUp: Enable NAT and routing (INSERT at TOP to bypass Docker/other REJECT rules)
PostUp = iptables -I FORWARD 1 -i wg0 -j ACCEPT
PostUp = iptables -I FORWARD 2 -o wg0 -j ACCEPT
PostUp = iptables -t nat -A POSTROUTING -o YOUR_PHYSICAL_INTERFACE -j MASQUERADE

# PostDown: Clean up rules when interface goes down
PostDown = iptables -D FORWARD -i wg0 -j ACCEPT
PostDown = iptables -D FORWARD -o wg0 -j ACCEPT
PostDown = iptables -t nat -D POSTROUTING -o YOUR_PHYSICAL_INTERFACE -j MASQUERADE

# ========== PEERS ==========

[Peer]
# Router Client
PublicKey = ROUTER_PUBLIC_KEY_HERE
AllowedIPs = 10.10.10.2/32
PersistentKeepalive = 25

[Peer]
# iOS Device
PublicKey = IOS_PUBLIC_KEY_HERE
AllowedIPs = 10.10.10.3/32
PersistentKeepalive = 25

[Peer]
# macOS Device
PublicKey = MACOS_PUBLIC_KEY_HERE
AllowedIPs = 10.10.10.4/32
PersistentKeepalive = 25

[Peer]
# Windows Device
PublicKey = WINDOWS_PUBLIC_KEY_HERE
AllowedIPs = 10.10.10.5/32
PersistentKeepalive = 25
